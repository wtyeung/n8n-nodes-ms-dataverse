### Changelog

All notable changes to this project will be documented in this file. Dates are displayed in UTC.

Generated by [`auto-changelog`](https://github.com/CookPete/auto-changelog).

#### [v0.7.0](https://github.com/wtyeung/n8n-nodes-ms-dataverse/compare/v0.6.4...v0.7.0)

> 27 February 2025

### Added
- **Choice Field Support**: New helper fields to view and work with choice (picklist) fields
  - **View Choice Field**: Select a choice field to view its available options
  - **Choice Options Viewer**: Display choice options in "Label (Value)" format for easy reference
  - Supports both Local Choice (OptionSet) and Global Choice (GlobalOptionSet)
  - Available for Create, Update, and Upsert operations
- **Global Choice Management**: Full CRUD operations for managing global choice option sets
  - **List**: List all global choices with their options
  - **Get**: Retrieve a specific global choice with all options
  - **Create**: Create a new global choice with initial options
  - **Add Option**: Add a new option to an existing global choice
  - **Update Option**: Update the label of an existing option
  - **Delete Option**: Remove an option from a global choice
  - **Delete**: Delete an entire global choice
- **Share Access Operations**: Three new operations for managing record sharing
  - **Share Access Add**: Grant access to a record for a user or team with specific permissions
  - **Share Access List**: List all users/teams with access to a record
  - **Share Access Revoke**: Revoke access from a user or team
- **Upsert Operation**: New operation that updates a record if it exists (using alternate keys) or creates it if it doesn't
- **Alternate Key Support for Share Operations**: Share operations now support both GUID and alternate key record identification
- **UPN and Team Name Lookup**: Share operations support looking up users by UPN (email) and teams by name
- **Access Rights Selection**: Granular permission control with options for Read, Write, Delete, Append, AppendTo, Assign, and Share rights

### Changed
- **View Table Fields**: Now only available for SQL operations (removed from Record operations for cleaner UI)
- **Record ID Type Selection**: Standardized across Get, Update, Delete, Upsert, and Share operations

### Fixed
- Improved error handling for share operations
- Better validation for alternate key formats

**Improvements:**
- Enhanced error handling with detailed Dataverse API error messages
- HTTP status codes and error codes displayed in error messages
- Alternate key support added to Delete operation
- Removed "View Table Fields" from Record operations (kept for SQL only)
- JSON input mode for Create and Update operations

**Technical:**
- Uses GrantAccess, RevokeAccess, and RetrieveSharedPrincipalsAndAccess actions
- Improved error extraction from JSON responses
- Better handling of various error response formats

#### [v0.3.2](https://github.com/wtyeung/n8n-nodes-ms-dataverse/compare/v0.3.1...v0.3.2)

- Improve UI organization with dotted notation for option grouping [`62848f7`](https://github.com/wtyeung/n8n-nodes-ms-dataverse/commit/62848f71cfe63ebe8aa10c8fa901c3fbb74e38a2)

#### [v0.3.1](https://github.com/wtyeung/n8n-nodes-ms-dataverse/compare/v0.3.0...v0.3.1)

> 23 December 2025

- Fix lint errors and upgrade to httpRequestWithAuthentication [`2b15205`](https://github.com/wtyeung/n8n-nodes-ms-dataverse/commit/2b15205236d99760eb90f4098d405bcee6f922b7)
- Release 0.3.1 [`10bfb52`](https://github.com/wtyeung/n8n-nodes-ms-dataverse/commit/10bfb52771a4b5efb0b92cb64c7e40df207f75d4)

#### [v0.3.0](https://github.com/wtyeung/n8n-nodes-ms-dataverse/compare/v0.2.11...v0.3.0)

> 23 December 2025

- Fix OAuth2 token refresh for SQL Query operation [`2a56375`](https://github.com/wtyeung/n8n-nodes-ms-dataverse/commit/2a563758824194841eceec363adaf36bccb242de)
- Release v0.3.0 - Image/File Downloads & OAuth2 Token Refresh [`1f4fa99`](https://github.com/wtyeung/n8n-nodes-ms-dataverse/commit/1f4fa99b90ed7734531c664f99bea9f16ec14af1)

#### [v0.2.11](https://github.com/wtyeung/n8n-nodes-ms-dataverse/compare/0.2.10...v0.2.11)

> 23 December 2025

- Add image and file download support for GET operation [`33b505b`](https://github.com/wtyeung/n8n-nodes-ms-dataverse/commit/33b505beda38b163fc4f3c466a2c9d134b5e3f0f)
- Add image download feature for GET operation [`0b6976c`](https://github.com/wtyeung/n8n-nodes-ms-dataverse/commit/0b6976cf5fddefa57f351d85ef4dd3fdc4440127)
- Update README with image and file download documentation [`2734c88`](https://github.com/wtyeung/n8n-nodes-ms-dataverse/commit/2734c8884385e1b6d70c9ffa223e0033120d3e61)

#### [0.2.10](https://github.com/wtyeung/n8n-nodes-ms-dataverse/compare/0.2.8...0.2.10)

> 23 December 2025

- Add custom authentication and field viewer features [`3ce078f`](https://github.com/wtyeung/n8n-nodes-ms-dataverse/commit/3ce078f16024473b34875c99d481ba0ef7e987ab)
- Replace notice with Load Fields dropdown [`3c03f5b`](https://github.com/wtyeung/n8n-nodes-ms-dataverse/commit/3c03f5b447394fdc44178b0d165d360fdf0f7188)
- Update README and CHANGELOG for v0.2.9 [`e288947`](https://github.com/wtyeung/n8n-nodes-ms-dataverse/commit/e288947a69684455971856ff8348bef5177aefb0)

#### [0.2.8](https://github.com/wtyeung/n8n-nodes-ms-dataverse/compare/0.2.5...0.2.8)

> 23 December 2025

- Add table field schema helper and show table selector for SQL queries [`08c79a6`](https://github.com/wtyeung/n8n-nodes-ms-dataverse/commit/08c79a651699783d777618c72e90017313285c56)
- Fix notice field to display content properly [`73cbfd6`](https://github.com/wtyeung/n8n-nodes-ms-dataverse/commit/73cbfd6b33cf8a6e5f9ae64a7f58e95ed4c1321f)
- Fix linting errors in field schema notice [`5a047d9`](https://github.com/wtyeung/n8n-nodes-ms-dataverse/commit/5a047d94260ae517e3a5e3d92a6dcce12166d6c2)

#### [0.2.5](https://github.com/wtyeung/n8n-nodes-ms-dataverse/compare/0.2.3...0.2.5)

> 23 December 2025

- Update Dataverse icon SVG to match official logo [`09c4b98`](https://github.com/wtyeung/n8n-nodes-ms-dataverse/commit/09c4b98b9ec5d3b32544e6498ce9ac7615c6f3f3)
- Major refactor: Rename to Dataverse, add official icon, update README with TDS and custom token docs [`9607a08`](https://github.com/wtyeung/n8n-nodes-ms-dataverse/commit/9607a08b7ad77dd6686e91248886600ef14340df)
- Convert icons from PNG to SVG for linter compliance [`cf4c090`](https://github.com/wtyeung/n8n-nodes-ms-dataverse/commit/cf4c0909a849c7553f8c46ab3de7e267d876de81)

#### [0.2.3](https://github.com/wtyeung/n8n-nodes-ms-dataverse/compare/0.2.2...0.2.3)

> 23 December 2025

- Improve TDS connection: increase timeouts and add helpful error messages [`1ab17e6`](https://github.com/wtyeung/n8n-nodes-ms-dataverse/commit/1ab17e601fcdc057bef1436bc4ff3230bdbe0e01)
- Release 0.2.3 [`9a5f069`](https://github.com/wtyeung/n8n-nodes-ms-dataverse/commit/9a5f0699638fc87e69f681d4b715ce19fe02873d)

#### [0.2.2](https://github.com/wtyeung/n8n-nodes-ms-dataverse/compare/0.2.1...0.2.2)

> 23 December 2025

- Fix TDS endpoint to use full domain from environment URL [`92bb1dd`](https://github.com/wtyeung/n8n-nodes-ms-dataverse/commit/92bb1dd3afc5a05a77db77bdd5739fc86248c233)
- Release 0.2.2 [`43d6f20`](https://github.com/wtyeung/n8n-nodes-ms-dataverse/commit/43d6f2080846cefe13c63c43974aba738417f965)
- Fix lint error: remove unnecessary escape in regex [`0fc31a0`](https://github.com/wtyeung/n8n-nodes-ms-dataverse/commit/0fc31a0ab82d76e8c677eb5d7ce2d39269df2222)

#### 0.2.1

> 23 December 2025

- Initial release: Microsoft Dataverse node with CRUD operations, OData and FetchXML support [`b258afa`](https://github.com/wtyeung/n8n-nodes-ms-dataverse/commit/b258afac85ca44dea0c39aeb07e6343d434b2c8d)
- Add TDS/SQL query support via mssql module [`df8f9af`](https://github.com/wtyeung/n8n-nodes-ms-dataverse/commit/df8f9af5583b4b85355cd69fa4093ac0d047c5ed)
- Add custom authentication option in Options section (v0.1.2) [`fec19ad`](https://github.com/wtyeung/n8n-nodes-ms-dataverse/commit/fec19ad1652c44ce7fcabfe0e84d488ffab028a8)
